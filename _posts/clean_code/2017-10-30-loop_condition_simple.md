---
layout: post
title: 읽기 쉽게 흐름제어 만들기
published: True
categories: 
- clean_code
tags:
- 클린코드
- 읽기 좋은 코드가 좋은 코드다
---



## Chapter 7. 읽기 쉽게 흐름제어 만들기

* 조건, 흐름, 루프를 통제하는 선언문이 코드에 없으면 매우 읽기 편할 것이다.
* 흐름을 제어하는 조건과 루프 등의 요소들을 최대한 자연스럽게 만들도록 노력해야한다.
* 즉, 코드를 읽다가 다시 되돌아가서 코드를 읽지 않도록 만들어야한다.



### 조건문에서 인수와 블럭 순서

* `if(왼쪽 > 오른쪽)` 
  * **왼쪽은 값이 더 유동적인 질문을 받는 인수를 쓰고, 오른쪽은 값이 더 고정적인 비교대상으로** 사용되는 인수를 사용하는 것이 더 읽기 편하다
* 이는 평소 말하는 어순과 비슷하기떄문이다. 5가 1보다 크냐. 5가 질문을 받는 인수이며, 1이 비교대상이 되는 인수다.
* **if문의 조건은 부정이 아닌 긍정을 다루어야 한다.**  
  * 간단한 것을 먼저 처리하라.
  * 더 흥미롭고 확실한 것을 먼저 다루어라.



### 삼항 연산자

* 사람에 따라 간결하게 담은 좋은 표현이라고 불리거나, 오리혀 가독성이 떨어진다고도 불린다.
* 둘의 차이는 역시나 삼항연산자를 적절히, 잘 사용함에 따라 다르다.
* 정말 간단한 표현의 같은 경우에는 삼항연산자가 간결하고 더 이해하기 쉬울 수 있다. 
  * `time += (hour >= 12) : "pm" ? "am"`  
* 말하고자 하는 것은, 기본적으로 줄 수를 최소화 한다는 생각보다는 코드를 이해시키는 시간을 최소화하는데 중점을 두어야한다는 것이다.



### do/while 문을 피하라

* 일반적인 if나 for문 의 동작원리는 위에서 아래로 읽어나간다. 하지만 역순인 do/while은 한번더 위로 올라가서 읽으므로 부자연스러울 수 있다.
* 또한, do/while문을 써야하는 경우에는 continue를 피하는 것이 혼란을 줄일 수 있다.



### 함수 중간에 반환하기.

* 한 함수에서 반환하는 곳이 여러군데라고 나쁜게 아니다.
* 이런 반환 포인트들은 함수 마지막에 실행되는 클린업 코드의 호출을 위한 의도이다.



### 중첩을  최소화하기.

* 중첩이 일어날 수록 코드를 읽는 사람의 정신적 스택도 중첩된다.
* 삽입된 중첩은 실패한 경우들을 최대한 먼저 처리하여 함수에서 제거해야한다.
* for문의 경우 그 내부적으로 continue를 적절히 사용하여 중첩을 제거할 수도 있는데, 보통 내부의 if에서 부정이나 긍정의 경우를 continue로 중첩을 줄일 수 있다.  




### 실행 흐름 따라가기

* 앞서 말한 부분들은 하위 수준에서의 흐름제어를 말한 부분이다.
* 상위 수준에서 흐름제어를 하기 위해서는 코드의 전체적인 실행 경로를 파악할 수 있어야한다.
* 하지만, 실제로는 완전히 따라가기가 쉽지 않다.
* 따라서, 최대한 [혼란을 줄 수 있는 / 눈에 보이는 코드 뒤에서 실행되는] 프로그래밍 구조는 피해야한다.
  * 스레딩 : 어느 코드가 언제 실행되는지 불분명 하다.
  * 시그널 / 인터럽트 핸들러 : 어떤 코드가 어떤 시점에 실행될 지 모른다.
  * 예외 : 예외 처리가 여러 함수 호출을 거칠 수 있다.
  * 익명 함수 : 실행 함수가 런타임에 결정되기 때문에 컴파일 과정에서 어떤 코드가 실행될 지 모른다.
  * 가상 메소드 : 알려지지 않은 하위 클래스의 코드를 호출 할지도 모른다.



