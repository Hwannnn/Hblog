---
layout: post
title: 변수와 가독성
published: True
categories: 
- clean_code
tags:
- 클린코드
- 읽기 좋은 코드가 좋은 코드다
---



## Chapter 9. 변수와 가독성

* 변수를 엉터리로 사용하면 코드를 이해하기 어렵고 문제가 생길 수 있다.
  * 변수의 수가 많을 수록 기억하기 어렵다.
  * 변수의 범위가 넓어질수록 기억하고 다루는 시간이 더 길어진다.
  * 변수의 값이 자주 바뀔수록 현재 값을 기억하고 다루기가 어렵다.




### 변수 제거하기

1. 불필요한 임시 변수들 제거하기

```javascript
var now = datetime.now();
root_message.last_view_time = now;
```

* 다음과 같은 경우에 now라는 변수는 꼭 필요한지 생각해보자.

- 여러 곳에서 사용되었으면 몰라도, 이같은 경우에는 now가 없어도 명확하다.

```
root_message.last_view_time = datetime.now();
```



2. 흐름제어 변수 삭제하기
   * 예를들어, 반복문의 경우 "중단하고 나와라"를 가르키는, 흐름을 제어하는 변수가 있을 수 있다.
   * 이러한 변수는 구조를 잘 설계하면 제거할 수 있는 경우가 많다.

```java
boolean done = false;
...
while(/* 조건 */ && done) {
  ...
  if(/* 조건 */) {
    done = true;
  }
}
```

* 이처럼 흐름제어를 사용한 구조는 다음과 같이 바꿀 수 있다.

```java
while(/* 조건 */) {
  ...
  if(/* 조건 */) {
    break;
  }
}
```



### 변수의 범위를 좁혀라

1. "전역 변수는 가급적 피해라." 라는 말은 자주 들어봤을 것이다.
   * 지역 변수와 함께 혼동될 우려도 있으며, 어디서 사용되는지 알기 힘들기 때문이다.
   * 전역 변수 뿐만아니라, 모든 변수의 범위를 적당히 좁히는 것이 한번에 기억하기에 좋다.



2. 변수의 선언을 항상 위에서 선언해야 한다고 강제하지말자.(c말고)
   * 함수가 다소 길어지면, 코드를 읽는 사람에게 지금 당장 사용되지 않는 변수를 계속 기억해야하므로, 위에서 선언하는 것에 강제하지 않는 것이 좋다.
   * 사용하는 부분 바로 위에서 선언하여 사용하는게 오히려 더 기억하기에 좋다.



### 값을 한 번만 할당하는 변수를 선호하라.

* 값이 자주 바뀌게 되면, 현재 값을 기억하기 어려워질 수 있다.
* 예를 들어, 상수와 같이 불변하는 변수의 경우 별다른 생각없이 읽어내려갈 수 있다.