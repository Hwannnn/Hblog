---
layout: post
title: ORDER BY와 정렬 방식
published: True
categories: 
- sql
tags:
- database
- mysql
- oracle
- SQL 첫걸음
---



### ORDER BY 기본 정렬

- ORDER BY를 사용할 때, 대부분의 데이터베이스 제품은 ASC나 DESC를 지정하지 않으면 디폴트 값으로 ASC가 많이 사용된다.
- 그렇다고 ASC를 생략하여 사용하기 보다는 명시적으로 적어주는 것이 안전하고 혼란스럽지 않다.



### 컬럼 타입에 따른 정렬방식

- 수치형이나 날짜형 컬럼의 정렬방식은 크기로 대소관계를 계산한다.

- 문자형 컬럼의 정렬방식은 사전식 순서로 대소관계를 계산한다.

- 주의 할 점은 문자형 컬럼에 숫자를 저장하는 경우이다.

  - 정렬 전

  | a_char | a_int |
  | ------ | ----- |
  | 13     | 13    |
  | 10     | 10    |
  | 12     | 12    |
  | 11     | 11    |
  | 1      | 1     |
  | 2      | 2     |

  - a_char 컬럼으로 정렬 후

  | a_char | a_int |
  | ------ | ----- |
  | 1      | 1     |
  | 10     | 10    |
  | 11     | 11    |
  | 12     | 12    |
  | 13     | 13    |
  | 2      | 2     |

  - a_int

  | a_char | a_int |
  | ------ | ----- |
  | 1      | 1     |
  | 2      | 2     |
  | 10     | 10    |
  | 11     | 11    |
  | 12     | 12    |
  | 13     | 13    |



### NULL 정렬

- 상식적으로 정렬을 하기 위해서는 대소비교를 해야한다. 그런데 NULL 값은 특별해서 대소비교를 할 수가 없다.
- 그래서 NULL의 대소비교 방법은 가장 큰 값 / 가장 작은 값으로 취급되서 가장 먼저 정렬 되거나 가장 뒤에 정렬된다.
- 가장 큰 값으로 취급 될 지, 가장 작은 값으로 취급 될 지는 데이터 베이스 제품에 따라 다르다.\
  - 표준 SQL에도 규정되어 있지 않다.
- mysql은 NULL을 가장 작은 값으로 취급하여 ASC 정렬 시에는 가장 먼저, DESC 시에는 가장 뒤에 정렬된다.

